RS.computeMainMenu=function(){var n,i,e=$(".js-menu"),s=e.children(".js-menu__nav"),o=$(".js-menu__more-items"),t=e.width(),a=0;if(console.log(t),o.children().remove(),s.find("> li:hidden").show(),$(".js-menu__more").hide(),!RS.Application().inBreakpoint("sm"))return!1;e.find("> .js-menu__nav > li:not(.js-menu__more)").each(function(n){var e=$(this);return a+80>t?(i=n-2,!1):a+e.outerWidth()>t?(i=n-1,!1):void(a+=e.outerWidth())}),i&&((n=s.find("> li:gt("+i+")")).hide(),$(".js-menu__more").show(),n.each(function(n){$(this).hasClass("js-menu__more")||o.append($("<li>").append($(this).find("> a").clone()))})),e.hasClass()||e.addClass("is-compute")},RS.Application().ready(function(){RS.computeMainMenu(),$(window).resize(BX.debounce(RS.computeMainMenu,250));var n=$(".js-menu"),i=function(n){if(RS.Application().inBreakpoint("sm")){var i,e=$(n);if(e.hasClass("dropdown")?(i=e.find(".dropdown-menu:eq(0)"),e.css("visibility","hidden").addClass("open"),RS.Application().getWidth()>i.offset().left+i.outerWidth()?e.css("visibility","visible"):e.removeClass("open").css("visibility","visible")):e.addClass("open"),e.hasClass("is-full-menu")){var s=e.find(".b-horizontal-menu__full-items:eq(0)");e.closest(".js-menu").width()-e.offset().left<e.closest(".js-menu").width()/2?s.addClass("is-right"):s.hasClass("is-right")&&s.removeClass("is-right")}}},e=function(n){if(RS.Application().inBreakpoint("sm")){var i=$(n);i.removeClass("open"),i.find(".open").removeClass("open")}},s=".js-menu__nav > .dropdown > a,.js-menu__more-btn";"AIM"==n.data("type")?n.find(".dropdown-menu").each(function(){0==$(this).closest(".is-full-menu").length&&$(this).menuAim({activate:i,deactivate:e,exitMenu:function(n){return!0}})}):s="a",n.find(s).on("mouseover",function(){var n=this.parentNode;i(this.parentNode),$(n).one("mouseleave",function(){e(n)})}).on("click",function(n){RS.Application().inBreakpoint("sm")&&n.stopPropagation()}),n.find(".js-menu__plus").on("click",function(n){n.preventDefault(),$(this).closest("li").toggleClass("open")}),n.find("a").on("click",function(n){n.stopPropagation()}),n.find(".b-horizontal-menu__full-items").on("click",function(n){n.stopPropagation()})});