function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var path_href,button_href;!function(e,n){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",n):"object"==typeof module&&module.exports?module.exports=n():e.EvEmitter=n()}("undefined"!=typeof window?window:this,function(){function e(){}var n=e.prototype;return n.on=function(e,n){if(e&&n){var o=this._events=this._events||{},t=o[e]=o[e]||[];return-1==t.indexOf(n)&&t.push(n),this}},n.once=function(e,n){if(e&&n){this.on(e,n);var o=this._onceEvents=this._onceEvents||{};return(o[e]=o[e]||{})[n]=!0,this}},n.off=function(e,n){var o=this._events&&this._events[e];if(o&&o.length){var t=o.indexOf(n);return-1!=t&&o.splice(t,1),this}},n.emitEvent=function(e,n){var o=this._events&&this._events[e];if(o&&o.length){var t=0,s=o[t];n=n||[];for(var a=this._onceEvents&&this._onceEvents[e];s;){var i=a&&a[s];i&&(this.off(e,s),delete a[s]),s.apply(this,n),s=o[t+=i?0:1]}return this}},n.allOff=n.removeAllListeners=function(){delete this._events,delete this._onceEvents},e}),function(e,n){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(o){return n(e,o)}):"object"==typeof module&&module.exports?module.exports=n(e,require("ev-emitter")):e.imagesLoaded=n(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,n){function o(e,n){for(var o in n)e[o]=n[o];return e}function t(e,n,s){return this instanceof t?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=function(e){var n=[];if(Array.isArray(e))n=e;else if("number"==typeof e.length)for(var o=0;o<e.length;o++)n.push(e[o]);else n.push(e);return n}(e),this.options=o({},this.options),"function"==typeof n?s=n:o(this.options,n),s&&this.on("always",s),this.getImages(),i&&(this.jqDeferred=new i.Deferred),void setTimeout(function(){this.check()}.bind(this))):new t(e,n,s)}function s(e){this.img=e}function a(e,n){this.url=e,this.element=n,this.img=new Image}var i=e.jQuery,r=e.console;(t.prototype=Object.create(n.prototype)).options={},t.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},t.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var n=e.nodeType;if(n&&l[n]){for(var o=e.querySelectorAll("img"),t=0;t<o.length;t++){var s=o[t];this.addImage(s)}if("string"==typeof this.options.background){var a=e.querySelectorAll(this.options.background);for(t=0;t<a.length;t++){var i=a[t];this.addElementBackgroundImages(i)}}}};var l={1:!0,9:!0,11:!0};return t.prototype.addElementBackgroundImages=function(e){var n=getComputedStyle(e);if(n)for(var o=/url\((['"])?(.*?)\1\)/gi,t=o.exec(n.backgroundImage);null!==t;){var s=t&&t[2];s&&this.addBackground(s,e),t=o.exec(n.backgroundImage)}},t.prototype.addImage=function(e){var n=new s(e);this.images.push(n)},t.prototype.addBackground=function(e,n){var o=new a(e,n);this.images.push(o)},t.prototype.check=function(){function e(e,o,t){setTimeout(function(){n.progress(e,o,t)})}var n=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(n){n.once("progress",e),n.check()}):void this.complete()},t.prototype.progress=function(e,n,o){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,n]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: "+o,e,n)},t.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var n=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[n](this)}},s.prototype=Object.create(n.prototype),s.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},s.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},s.prototype.confirm=function(e,n){this.isLoaded=e,this.emitEvent("progress",[this,this.img,n])},s.prototype.handleEvent=function(e){var n="on"+e.type;this[n]&&this[n](e)},s.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},s.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},s.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(s.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(e,n){this.isLoaded=e,this.emitEvent("progress",[this,this.element,n])},t.makeJQueryPlugin=function(n){(n=n||e.jQuery)&&(i=n,i.fn.imagesLoaded=function(e,n){return new t(this,e,n).jqDeferred.promise(i(this))})},t.makeJQueryPlugin(),t});var _createClass=function(){function e(e,n){for(var o,t=0;t<n.length;t++)o=n[t],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}();!function(){function e(e,n){var o=e.width()/1920;e.css({height:1147.5*o+"px"}),n.css({transform:"scale("+o+") translateY(-55%)"})}function n(e,n){this.create=function(){this.x=n.x||0,this.y=n.y||0,this.vx=Math.random()*n.dispersion,this.v=5*Math.random(),this.g=1+3*Math.random(),this.size=5*Math.random(),this.max=Math.random()*n.destroyOffset,this.vx*=-1},this.draw=function(){this.x-=this.vx,this.g+=.1,this.y+=this.g,e.fillStyle=n.colors[function(e,n){return Math.floor(0+Math.random()*(n+1-0))}(0,n.colors.length-1)],e.beginPath(),e.arc(this.x,this.y,this.size,0,2*Math.PI,!1),e.fill(),this.y>this.max&&this.create()},this.create()}function o(e){function o(){i.clearRect(0,0,t.width,t.height),s.forEach(function(e){return e.draw()}),a&&requestAnimationFrame(o)}var t={canvas:null,width:100,height:100,count:50,interval:20,destroyOffset:300,dispersion:5},s=[],a=!0;(t=Object.assign(t,e||{})).canvas.width=t.width,t.canvas.height=t.height;for(var i=t.canvas.getContext("2d"),r=0;r<t.count;r++)setTimeout(function(){s.push(new n(i,e))},r);o(),this.stop=function(){a=!1},this.start=function(){a=!0,o()}}var t=function(){function e(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.list=n}return _createClass(e,[{key:"start",value:function(){for(var e=this,n=0,o=0;o<this.list.length;o++)!function(o){n+=e.list[o].delay,setTimeout(function(){return e.list[o].callback()},n)}(o)}}]),e}(),s="/bitrix/templates/house/images",a=$(".house-container"),i=$(".house-container .house"),r=[];r.push({delay:200,callback:function(){!function(){var e=new o({canvas:$(".house-container .soil-particles").get(0),width:1920,height:867,count:2e3,interval:10,destroyOffset:600,dispersion:5,colors:["#74685D","#554641","#695F56","#8A775B","#3B2B2D"]});$(".house-container .soil-container .soil").removeClass("house-item-hidden"),new t([{delay:3e3,callback:function(){$(".house-container .soil-particles").addClass("house-item-hidden")}},{delay:300,callback:function(){e.stop()}}]).start()}()}}),r.push({delay:3e3,callback:function(){!function(){var e=new o({canvas:$(".house-container .sand-particles").get(0),width:1920,height:867,count:2e3,interval:10,destroyOffset:600,dispersion:5,colors:["#CDB298","#CCA286","#A38A70","#928070"]});$(".house-container .sand-container .sand").removeClass("house-item-hidden"),new t([{delay:3e3,callback:function(){$(".house-container .sand-particles").addClass("house-item-hidden")}},{delay:300,callback:function(){e.stop()}}]).start()}()}}),r.push({delay:3e3,callback:function(){$(".house-container .foundation").removeClass("house-item-hidden"),function(){var e=new o({canvas:$(".house-container .cement-particles").get(0),width:1389,height:426,count:2e3,interval:10,destroyOffset:150,dispersion:2,x:300,y:0,colors:["#757573","#A5A5A5","#CECFCF"]});$(".house-container .floor").removeClass("house-item-hidden"),$(".house-container .pipe").removeClass("house-item-hidden"),new t([{delay:2e3,callback:function(){$(".house-container .cement-particles").addClass("house-item-hidden"),$(".house-container .pipe").addClass("house-item-hidden")}},{delay:300,callback:function(){e.stop()}}]).start()}()}}),r.push({delay:2500,callback:function(){(function(){var e=[];return[{class:".house-container .door-wall",rows:13},{class:".house-container .back-wall",rows:14},{class:".house-container .front-window-wall",rows:14},{class:".house-container .front-side-wall",rows:26},{class:".house-container .back-side-wall",rows:26}].forEach(function(n){for(var o=[],t=1;t<=n.rows;t++)!function(e){o.push({delay:150,callback:function(){$(n.class+" .row-"+e).removeClass("house-item-hidden")}})}(t);e.push(o)}),e})().forEach(function(e){new t(e).start()})}}),r.push({delay:2500,callback:function(){$(".house-container .walls-shadow").removeClass("house-item-hidden"),$(".house-container .peak").removeClass("house-item-hidden")}}),r.push({delay:1400,callback:function(){$(".house-container .rafters").removeClass("house-item-hidden"),$(".house-container .planks").removeClass("house-item-hidden")}}),r.push({delay:700,callback:function(){new t(function(){for(var e=[],n=14;1<=n;n--)!function(n){e.push({delay:100,callback:function(){$(".house-container .plate.plate-"+n).removeClass("house-item-hidden")}})}(n);return e}()).start()}}),r.push({delay:1400,callback:function(){$(".house-container .ridge").removeClass("house-item-hidden"),$(".house-container .roof-shadow").removeClass("house-item-hidden")}}),r.push({delay:500,callback:function(){$(".house-container .facing").removeClass("house-item-hidden"),new t(function(){var e=[];return[".house-container .roof-window-1",".house-container .roof-window-2",".house-container .round-window",".house-container .door",".house-container .window-1",".house-container .window-2",".house-container .panorama-window"].forEach(function(n){e.push({delay:150,callback:function(){$(n).removeClass("house-item-hidden")}})}),e}()).start()}}),r.push({delay:1550,callback:function(){$(".house-container .foundation-bricks").removeClass("house-item-hidden")}}),r.push({delay:500,callback:function(){$(".house-container .house-stairs").removeClass("house-item-hidden")}}),r.push({delay:200,callback:function(){$(".house-container .outside-stairs").removeClass("house-item-hidden")}}),r.push({delay:200,callback:function(){$(".house-container .outside-border").removeClass("house-item-hidden")}}),r.push({delay:200,callback:function(){new t(function(){for(var e=[],n=1;26>=n;n++)!function(n){e.push({delay:100,callback:function(){$(".house-container .tile-row.row-"+n).removeClass("house-item-hidden")}})}(n);return e}()).start()}}),r.push({delay:2600,callback:function(){$(".house-container .grass").removeClass("house-item-hidden")}}),r.push({delay:200,callback:function(){$(".house-container .urn").removeClass("house-item-hidden"),$(".house-container .urn-shadow").removeClass("house-item-hidden")}}),r.push({delay:200,callback:function(){$(".house-container .bench").removeClass("house-item-hidden"),$(".house-container .bench-shadow").removeClass("house-item-hidden")}}),r.push({delay:200,callback:function(){$(".house-container .lion").removeClass("house-item-hidden"),$(".house-container .lion-shadow").removeClass("house-item-hidden")}}),r.push({delay:200,callback:function(){$(".house-container .bush-left").removeClass("house-item-hidden"),$(".house-container .bush-left-shadow").removeClass("house-item-hidden")}}),r.push({delay:200,callback:function(){$(".house-container .bush-right").removeClass("house-item-hidden"),$(".house-container .bush-right-shadow").removeClass("house-item-hidden")}}),r.push({delay:300,callback:function(){$(".house-container .shapes").removeClass("house-item-hidden")}}),e(a,i),function(e,n){var o=e.length;e.forEach(function(e){var t=new Image;t.addEventListener("load",function(){(o-=1)||"function"!=typeof n||n()}),t.src=e})}([s+"/bench-shadow.png",s+"/bench.png",s+"/bush-left-shadow.png",s+"/bush-left.png",s+"/bush-right-shadow.png",s+"/bush-right.png",s+"/facing.png",s+"/foundation-box.png",s+"/foundation-bricks.png",s+"/foundation-floor.png",s+"/foundation.png",s+"/grass.png",s+"/house-stairs.png",s+"/lion-shadow.png",s+"/lion.png",s+"/outside-border.png",s+"/outside-stairs.png",s+"/panaram-window.png",s+"/peak.png",s+"/pipe.png",s+"/roof/planks.png",s+"/roof/plate-1.png",s+"/roof/plate-10.png",s+"/roof/plate-11.png",s+"/roof/plate-12.png",s+"/roof/plate-13.png",s+"/roof/plate-14.png",s+"/roof/plate-2.png",s+"/roof/plate-3.png",s+"/roof/plate-4.png",s+"/roof/plate-5.png",s+"/roof/plate-6.png",s+"/roof/plate-7.png",s+"/roof/plate-8.png",s+"/roof/plate-9.png",s+"/roof/rafters.png",s+"/roof/ridge.png",s+"/roof/roof-shadow.png",s+"/sand-soil.png",s+"/sand.png",s+"/soil-full.png",s+"/soil.png",s+"/tile/row-1.png",s+"/tile/row-10.png",s+"/tile/row-11.png",s+"/tile/row-12.png",s+"/tile/row-13.png",s+"/tile/row-14.png",s+"/tile/row-15.png",s+"/tile/row-16.png",s+"/tile/row-17.png",s+"/tile/row-18.png",s+"/tile/row-19.png",s+"/tile/row-2.png",s+"/tile/row-20.png",s+"/tile/row-21.png",s+"/tile/row-22.png",s+"/tile/row-23.png",s+"/tile/row-24.png",s+"/tile/row-25.png",s+"/tile/row-26.png",s+"/tile/row-3.png",s+"/tile/row-4.png",s+"/tile/row-5.png",s+"/tile/row-6.png",s+"/tile/row-7.png",s+"/tile/row-8.png",s+"/tile/row-9.png",s+"/tree-shadow.png",s+"/urn-shadow.png",s+"/urn.png",s+"/walls/back-side-wall/row-1.png",s+"/walls/back-side-wall/row-10.png",s+"/walls/back-side-wall/row-11.png",s+"/walls/back-side-wall/row-12.png",s+"/walls/back-side-wall/row-13.png",s+"/walls/back-side-wall/row-14.png",s+"/walls/back-side-wall/row-15.png",s+"/walls/back-side-wall/row-16.png",s+"/walls/back-side-wall/row-17.png",s+"/walls/back-side-wall/row-18.png",s+"/walls/back-side-wall/row-19.png",s+"/walls/back-side-wall/row-2.png",s+"/walls/back-side-wall/row-20.png",s+"/walls/back-side-wall/row-21.png",s+"/walls/back-side-wall/row-22.png",s+"/walls/back-side-wall/row-23.png",s+"/walls/back-side-wall/row-24.png",s+"/walls/back-side-wall/row-25.png",s+"/walls/back-side-wall/row-26.png",s+"/walls/back-side-wall/row-3.png",s+"/walls/back-side-wall/row-4.png",s+"/walls/back-side-wall/row-5.png",s+"/walls/back-side-wall/row-6.png",s+"/walls/back-side-wall/row-7.png",s+"/walls/back-side-wall/row-8.png",s+"/walls/back-side-wall/row-9.png",s+"/walls/back-wall/row-1.png",s+"/walls/back-wall/row-10.png",s+"/walls/back-wall/row-11.png",s+"/walls/back-wall/row-12.png",s+"/walls/back-wall/row-13.png",s+"/walls/back-wall/row-14.png",s+"/walls/back-wall/row-2.png",s+"/walls/back-wall/row-3.png",s+"/walls/back-wall/row-4.png",s+"/walls/back-wall/row-5.png",s+"/walls/back-wall/row-6.png",s+"/walls/back-wall/row-7.png",s+"/walls/back-wall/row-8.png",s+"/walls/back-wall/row-9.png",s+"/walls/door-wall/row-1.png",s+"/walls/door-wall/row-10.png",s+"/walls/door-wall/row-11.png",s+"/walls/door-wall/row-12.png",s+"/walls/door-wall/row-13.png",s+"/walls/door-wall/row-2.png",s+"/walls/door-wall/row-3.png",s+"/walls/door-wall/row-4.png",s+"/walls/door-wall/row-5.png",s+"/walls/door-wall/row-6.png",s+"/walls/door-wall/row-7.png",s+"/walls/door-wall/row-8.png",s+"/walls/door-wall/row-9.png",s+"/walls/front-side-wall/row-1.png",s+"/walls/front-side-wall/row-10.png",s+"/walls/front-side-wall/row-11.png",s+"/walls/front-side-wall/row-12.png",s+"/walls/front-side-wall/row-13.png",s+"/walls/front-side-wall/row-14.png",s+"/walls/front-side-wall/row-15.png",s+"/walls/front-side-wall/row-16.png",s+"/walls/front-side-wall/row-17.png",s+"/walls/front-side-wall/row-18.png",s+"/walls/front-side-wall/row-19.png",s+"/walls/front-side-wall/row-2.png",s+"/walls/front-side-wall/row-20.png",s+"/walls/front-side-wall/row-21.png",s+"/walls/front-side-wall/row-22.png",s+"/walls/front-side-wall/row-23.png",s+"/walls/front-side-wall/row-24.png",s+"/walls/front-side-wall/row-25.png",s+"/walls/front-side-wall/row-26.png",s+"/walls/front-side-wall/row-3.png",s+"/walls/front-side-wall/row-4.png",s+"/walls/front-side-wall/row-5.png",s+"/walls/front-side-wall/row-6.png",s+"/walls/front-side-wall/row-7.png",s+"/walls/front-side-wall/row-8.png",s+"/walls/front-side-wall/row-9.png",s+"/walls/front-window-wall/row-1.png",s+"/walls/front-window-wall/row-10.png",s+"/walls/front-window-wall/row-11.png",s+"/walls/front-window-wall/row-12.png",s+"/walls/front-window-wall/row-13.png",s+"/walls/front-window-wall/row-14.png",s+"/walls/front-window-wall/row-2.png",s+"/walls/front-window-wall/row-3.png",s+"/walls/front-window-wall/row-4.png",s+"/walls/front-window-wall/row-5.png",s+"/walls/front-window-wall/row-6.png",s+"/walls/front-window-wall/row-7.png",s+"/walls/front-window-wall/row-8.png",s+"/walls/front-window-wall/row-9.png",s+"/walls-shadow.png",s+"/windows/door.png",s+"/windows/panorama-window.png",s+"/windows/roof-window-1.png",s+"/windows/roof-window-2.png",s+"/windows/round-window.png",s+"/windows/window-1.png",s+"/windows/window-2.png"],function(){$(".house-container .loading").addClass("flipOutX"),new t(r).start()}),window.addEventListener("resize",function(){e(a,i)}),$(".house-container .shapes path").on("mouseenter",function(){var e=$(this).attr("data-selector");a.find(e).addClass("active"),path_href=$(this).attr("data-href"),$(".header-section-buttons a").each(function(){path_href==$(this).attr("href")&&$(this).removeClass("header-section-button-inactive").addClass("header-section-button-active")})}).on("mouseleave",function(){var e=$(this).attr("data-selector");a.find(e).removeClass("active"),path_href=$(this).attr("data-href"),$(".header-section-buttons a").each(function(){path_href==$(this).attr("href")&&$(this).removeClass("header-section-button-active").addClass("header-section-button-inactive")})}).on("click",function(){var e=$(this).attr("data-href");null!==e&&(document.location.href=e)})}(),$(function(){$(".header-section-buttons a").hover(function(){button_href=$(this).attr("href"),$(".house-container .shapes path").each(function(){button_href==$(this).attr("data-href")&&$(this).addClass("active")})},function(){button_href=$(this).attr("href"),$(".house-container .shapes path").each(function(){button_href==$(this).attr("data-href")&&$(this).removeClass("active")})})});