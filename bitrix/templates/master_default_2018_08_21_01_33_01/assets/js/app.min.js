"use strict";window.RS=window.RS||{},RS.Application=function(){var t,i=function(){this.sliders={},this.breakpoints={xxs:0,xs:480,sm:768,md:992,lg:1200},this.fancyboxOptions={},this.fancyboxOptions.popup={infobar:!1,buttons:!1,slideShow:!1,fullScreen:!1,thumbs:!1,ajax:{settings:{data:{fancybox:!0}}},touch:!1,keyboard:!0,btnTpl:{smallBtn:"Hello"},baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner">{{BUTTONS}}<div class="fancybox-stage"></div></div></div>',afterLoad:function(){this.$content.wrapAll("<div>"),this.$content.parent().prepend('<button data-fancybox-close class="fancybox-close-small"></button>');var t=this.opts.$orig.attr("title")||this.opts.$orig.text();t&&this.$content.parent().prepend('<div class="fancybox-title fancybox-title-inside-wrap">'+t+"</div>")}}};return i.prototype.ready=function(t){void 0!==window.frameCacheVars?BX.addCustomEvent("onFrameDataReceived",function(i){t()}):$(document).ready(function(){t()})},i.prototype.addSlider=function(t,i,n){this.sliders[t]||(this.sliders[t]=new RS.Slider(t,i,n))},i.prototype.initAllSliders=function(){$.each(this.sliders,function(t,i){i.init()})},i.prototype.setProductCart=function(t){if(void 0!=window.Basket){var i=Basket.inbasket(),n=$(".js-buy");n.removeClass("is-incart"),i.forEach(function(t){n.filter("[data-productid="+t+"]").addClass("is-incart")})}},i.prototype.getWidth=function(){return $(window).outerWidth()},i.prototype.inBreakpoint=function(t){return!(!this.breakpoints[t]||this.getWidth()<this.breakpoints[t])},i.prototype.initPopups=function(){$('[data-type="ajax"]').fancybox(this.fancyboxOptions.popup)},i.prototype.initAjaxNavigation=function(){$('[data-type="ajax-nav"]').off("click.ajax-nav").on("click.ajax-nav",function(t){t.preventDefault();var i=$(this),n=i.data("nav-options"),o={},a=i.attr("href");i.hasClass("is-loading")||(i.addClass("is-loading"),o["PAGEN_"+n.NAV_NUM]=++n.NAV_PAGE_NOMER,RS.loadMore(a,i.data("load-to"),o).always(function(){i.removeClass("is-loading")}).done(function(){i.data("options",n),n.NAV_PAGE_NOMER>=n.NAV_PAGE_COUNT&&i.hide()}))})},i.prototype.init=function(){this.initPopups(),this.initAllSliders(),this.initAjaxNavigation(),this.setProductCart(),BX.addCustomEvent("add2basket.rs_lightbasket",function(){this.setProductCart()}.bind(this)),BX.addCustomEvent("clear.rs_lightbasket",function(){this.setProductCart()}.bind(this)),BX.addCustomEvent("delete.rs_lightbasket",function(){this.setProductCart()}.bind(this))},i.prototype.refresh=function(){this.initPopups(),this.setProductCart(),this.initAllSliders()},function(){return t||(t=new i),t}}();