$(document).on("click",".js-catalog_refresh a",function(e){var r=$(this),a=r.attr("href").replace("+","%2B"),s=r.closest(".js-catalog_refresh"),l=s.data("ajax-id");$refreshArea=$("#"+l),sorterAjaxExec=!1;var t={type:"POST",url:a,success:function(e){var t=BX.parseJSON(e);if(void 0!=s.data("history-push")&&history.pushState(null,null,a),null==t)$refreshArea.html(e);else for(var o in t)$("#"+l+"_"+o).html(t[o]);r.parent().addClass("active").siblings().removeClass("active")},error:function(){console.warn("sorter - change template -> error responsed")},complete:function(){sorterAjaxExec=!1,$refreshArea.removeClass("overlay is-loading")}};s.length>0&&!sorterAjaxExec&&"#"!=t.url&&void 0!=t.url&&($refreshArea.addClass("overlay is-loading"),sorterAjaxExec=!0,t.url+=(t.url.indexOf("?")<0?"?":"&"!=t.url.slice(-1)?"&":"")+"action=catalogRefresh",void 0!=l&&(t.url+="&ajax_id="+l),$.ajax(t)),e.preventDefault()});