BX.namespace("RS"),window.RSLocation||(window.RSLocation=function(){var t=function(t,n){this.data=t,this.params=n};return BX.merge(t.prototype,{getCityId:function(){return this.data.ID},getCityName:function(){return this.data.NAME},change:function(t){var n={action:"change",id:t,siteId:this.params.siteId};return this.request(n).then(BX.proxy(this.changeSuccess,this))},changeSuccess:function(t){return this.data=t,BX.onCustomEvent("rs.location_change"),t},request:function(t){var n=new BX.Promise;return t.sessid=BX.bitrix_sessid(),BX.ajax({url:this.params.ajaxUrl,method:"POST",data:t,dataType:"json",onsuccess:function(t){n.resolve(t)},onfailure:function(t){n.reject(t)}}),n}}),t}());