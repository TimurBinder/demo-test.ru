function rsTuningSpectrumReflow(n){$(n).find(".colorpickerHolder").each(function(){$(this).spectrum("reflow")}),BX.removeCustomEvent("rs.tuning.tabs.after.change",rsTuningSpectrumReflow)}function rsTuningSpectrumSetInputValues(n){var e=$("#"+n),t=e.closest(".js-rs_option_info"),o=t.find(".active").find("input").val()+"",i=new RS.Color(o);if(e.spectrum("set",i._hex),t.find(".field.r").find("input").val(i.getRgb().R).change(),t.find(".field.g").find("input").val(i.getRgb().G).change(),t.find(".field.b").find("input").val(i.getRgb().B).change(),t.find(".field.hex").find("input").val(i.getHex()).change(),t.find(".js-rstuning__option__colorpicker__alone-color.active .js-rstuning__option__colorpicker__input").val(o),document.querySelector(".js-rstuning__option__colorpicker__alone-color.active .js-rstuning__option__colorpicker__input").value=o,"function"==typeof Event)var c=new Event("change");else(c=document.createEvent("Event")).initEvent("change",!0,!0);document.querySelector(".js-rstuning__option__colorpicker__alone-color.active .js-rstuning__option__colorpicker__input").dispatchEvent(c),t.find(".js-rstuning__option__colorpicker__alone-color.active .js-colorpicker-paint").css("backgroundColor","#"+o)}function rsTuningSpectrumInit(n){var e=$("#"+n),t=e.closest(".js-rs_option_info"),o=e.data("dcolor")+"",i=new RS.Color(o);e.spectrum({containerClassName:"rstuning__spectrum",flat:!0,color:i._hex,showButtons:!1,move:function(n){if(t.find(".field.r").find("input").val(n.toRgb().r).change(),t.find(".field.g").find("input").val(n.toRgb().g).change(),t.find(".field.b").find("input").val(n.toRgb().b).change(),t.find(".field.hex").find("input").val(n.toHex()).change(),t.find(".js-rstuning__option__colorpicker__alone-color.active .js-rstuning__option__colorpicker__input").val(n.toHex()),document.querySelector(".js-rstuning__option__colorpicker__alone-color.active .js-rstuning__option__colorpicker__input").value=n.toHex(),"function"==typeof Event)var e=new Event("change");else(e=document.createEvent("Event")).initEvent("change",!0,!0);document.querySelector(".js-rstuning__option__colorpicker__alone-color.active .js-rstuning__option__colorpicker__input").dispatchEvent(e),t.find(".js-rstuning__option__colorpicker__alone-color.active .js-colorpicker-paint").css("backgroundColor",n.toHexString())}}),t.is(":visible")||BX.addCustomEvent("rs.tuning.tabs.after.change",rsTuningSpectrumReflow),rsTuningSpectrumSetInputValues(n)}$(document).ready(function(){$(document).on("click",".js-colorpicker-set",function(n){var e=$(this),t=e.data("value"),o=e.closest(".js-rs_option_info");for(valkey in t)if(0<$('[data-valkey="'+valkey+'"]').length){if(document.querySelector('[data-valkey="'+valkey+'"]').value=t[valkey],"function"==typeof Event)var i=new Event("change");else(i=document.createEvent("Event")).initEvent("change",!0,!0);document.querySelector('[data-valkey="'+valkey+'"]').dispatchEvent(i),$('[data-valkey="'+valkey+'"]').parent().find(".js-colorpicker-paint").css("backgroundColor","#"+t[valkey])}return o.find(".active").removeClass("active"),e.parent().addClass("active"),o.find(".js-colorpicker-val:first").parent().addClass("active"),rsTuningSpectrumSetInputValues(o.find(".active").data("colorpicker-id")),!1}),$(document).on("click",".js-colorpicker-val",function(n){var e=$(this),t=e.parent().children("input").val()+"",o=e.closest(".js-rs_option_info");return 6==t.length&&(o.find(".active").removeClass("active"),e.parent().addClass("active"),rsTuningSpectrumSetInputValues(o.find(".active").data("colorpicker-id")),$(".js-colorpicker-set").removeClass("active")),!1}),$(document).on("blur keyup",".js-colorpicker-hex",function(){var n=$(this),e=n.closest(".js-rs_option_info");return 6==n.val().length&&(e.find(".active").find("input").val(n.val()),rsTuningSpectrumSetInputValues(e.find(".active").data("colorpicker-id"))),!1})});